# ğŸš€ KATC1 ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸ ê°€ì´ë“œ

## ğŸ“Œ ê°œìš”

KATC1 ì‹œìŠ¤í…œì˜ ëª¨ë“  ì»´í¬ë„ŒíŠ¸(ë°ì´í„°ë² ì´ìŠ¤, ë°±ì—”ë“œ, í”„ë¡ íŠ¸ì—”ë“œ)ë¥¼ ê´€ë¦¬í•˜ëŠ” Bash ìŠ¤í¬ë¦½íŠ¸ì…ë‹ˆë‹¤.

- **start.sh** - ì „ì²´ ì‹œìŠ¤í…œ ì‹œì‘
- **stop.sh** - ì „ì²´ ì‹œìŠ¤í…œ ì¤‘ì§€

## ğŸ¯ í•µì‹¬ ê¸°ëŠ¥

### âœ¨ start.sh

**ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ìë™ ì¢…ë£Œ + ì‹œìŠ¤í…œ ì‹œì‘**

```bash
./start.sh
```

#### ìˆ˜í–‰ ì‘ì—…:
1. âœ… í¬íŠ¸ 3000, 5432ì˜ ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ìë™ ì¢…ë£Œ
2. âœ… PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì‹œì‘
3. âœ… ê° ì„œë¹„ìŠ¤ì˜ ì¤€ë¹„ ìƒíƒœ ëŒ€ê¸°
4. âœ… Next.js ê°œë°œ ì„œë²„ ì‹œì‘

#### ì¶œë ¥ ì˜ˆì‹œ:
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  KATC1 ì‹œìŠ¤í…œ ì‹œì‘
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[1/3] ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ ì •ë¦¬
  âš ï¸  í¬íŠ¸ 3000ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ ë°œê²¬
  ğŸ”´ PID 12345 ì¢…ë£Œ ì¤‘...
  âœ… í¬íŠ¸ 3000 ì •ë¦¬ ì™„ë£Œ
  âœ… í¬íŠ¸ 5432 ë¹„ì–´ìˆìŒ

[2/3] PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì‹œì‘
  ğŸš€ PostgreSQL ì‹œì‘...
  â³ PostgreSQL ì¤€ë¹„ ëŒ€ê¸°...
  âœ… PostgreSQL ì¤€ë¹„ ì™„ë£Œ (PID: 12346)

[3/3] Next.js ê°œë°œ ì„œë²„ ì‹œì‘
  ğŸš€ Next.js ê°œë°œ ì„œë²„ ì‹œì‘ (í¬íŠ¸ 3000)...
  ğŸ“ ë¡œê·¸ íŒŒì¼: ~/.katc1/nextjs.log
  â³ Next.js ì¤€ë¹„ ëŒ€ê¸°...
  âœ… Next.js ì¤€ë¹„ ì™„ë£Œ (PID: 12347)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  âœ… KATC1 ì‹œìŠ¤í…œ ì‹œì‘ ì™„ë£Œ!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Œ ì„œë¹„ìŠ¤ ì •ë³´:
  ğŸŒ Frontend:  http://localhost:3000
  ğŸ—„ï¸  Database:  localhost:5432

ğŸ“ í”„ë¡œì„¸ìŠ¤ ID:
  PostgreSQL:  12346
  Next.js:     12347

ğŸ“‚ ë¡œê·¸ íŒŒì¼:
  PostgreSQL:  ~/.katc1/postgres.log
  Next.js:     ~/.katc1/nextjs.log

ğŸ’¡ íŒ:
  â€¢ ì‹œìŠ¤í…œ ì¤‘ì§€: ./stop.sh
  â€¢ ë¡œê·¸ í™•ì¸:  tail -f ~/.katc1/nextjs.log
  â€¢ í¬íŠ¸ í™•ì¸:  lsof -i :3000
```

### ğŸ›‘ stop.sh

**ì‹¤í–‰ ì¤‘ì¸ ëª¨ë“  í”„ë¡œì„¸ìŠ¤ ì•ˆì „ ì¢…ë£Œ**

```bash
./stop.sh
```

#### ìˆ˜í–‰ ì‘ì—…:
1. âœ… Next.js ì„œë²„ ì¢…ë£Œ (í¬íŠ¸ 3000)
2. âœ… PostgreSQL ë°ì´í„°ë² ì´ìŠ¤ ì¢…ë£Œ (í¬íŠ¸ 5432)

#### ì¶œë ¥ ì˜ˆì‹œ:
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  KATC1 ì‹œìŠ¤í…œ ì¤‘ì§€
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

[1/2] Next.js í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
  ğŸ”´ í¬íŠ¸ 3000ì—ì„œ PID 12347 ì¢…ë£Œ ì¤‘...
  âœ… Next.js ì¤‘ì§€ ì™„ë£Œ

[2/2] PostgreSQL í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
  ğŸ”´ í¬íŠ¸ 5432ì—ì„œ PID 12346 ì¢…ë£Œ ì¤‘...
  âœ… PostgreSQL ì¤‘ì§€ ì™„ë£Œ

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
  âœ… KATC1 ì‹œìŠ¤í…œ ì¤‘ì§€ ì™„ë£Œ!
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ íŒ:
  â€¢ ì‹œìŠ¤í…œ ì¬ì‹œì‘: ./start.sh
```

---

## ğŸ“‹ ì‚¬ì „ ìš”êµ¬ì‚¬í•­

### í•„ìˆ˜ ì„¤ì¹˜

```bash
# macOS
brew install postgresql@15 node@20

# Ubuntu/Debian
sudo apt-get install postgresql-15 nodejs npm

# CentOS/RHEL
sudo dnf install postgresql-server nodejs npm
```

### ì´ˆê¸° ì„¤ì •

```bash
# 1. ì˜ì¡´ì„± ì„¤ì¹˜
npm install

# 2. ë°ì´í„°ë² ì´ìŠ¤ ìƒì„±
createdb katc1_dev

# 3. ìŠ¤í‚¤ë§ˆ ì ìš©
psql -U $(whoami) -d katc1_dev -f scripts/init.sql

# 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env.local
```

---

## ğŸ”„ ì¼ë°˜ì ì¸ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

### ğŸŒ… ì—…ë¬´ ì‹œì‘

```bash
# ì‹œìŠ¤í…œ ì‹œì‘
./start.sh

# ë¸Œë¼ìš°ì € ì—´ê¸°
open http://localhost:3000

# ë˜ëŠ”
# firefox http://localhost:3000
# google-chrome http://localhost:3000
```

### ğŸ  ì—…ë¬´ ì¢…ë£Œ

```bash
# ì‹œìŠ¤í…œ ì¤‘ì§€
./stop.sh
```

### ğŸ”„ ì¬ì‹œì‘

```bash
# í•œ ì¤„ë¡œ ì¤‘ì§€ + ì‹œì‘
./stop.sh && ./start.sh
```

### ğŸ› ë””ë²„ê¹…

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ í™•ì¸
tail -f ~/.katc1/nextjs.log

# ì—ëŸ¬ í•„í„°ë§
tail -f ~/.katc1/nextjs.log | grep ERROR

# PostgreSQL ë¡œê·¸ í™•ì¸
tail -f ~/.katc1/postgres.log
```

---

## ğŸ”§ í¬íŠ¸ ì„¤ì •

### ê¸°ë³¸ í¬íŠ¸
- **Frontend:** 3000 (Next.js)
- **Database:** 5432 (PostgreSQL)

### í¬íŠ¸ ë³€ê²½ ë°©ë²•

`start.sh` ìƒë‹¨ì˜ í¬íŠ¸ ë³€ìˆ˜ë¥¼ ìˆ˜ì •í•˜ì„¸ìš”:

```bash
# start.sh, stop.sh ìƒë‹¨ ë¶€ë¶„
FRONTEND_PORT=3001  # 3000 â†’ 3001ë¡œ ë³€ê²½
DB_PORT=5433        # 5432 â†’ 5433ë¡œ ë³€ê²½
```

### í¬íŠ¸ ì¶©ëŒ í•´ê²°

```bash
# íŠ¹ì • í¬íŠ¸ ì‚¬ìš© í™•ì¸
lsof -i :3000

# ìë™ í•´ê²° (./start.sh ì‹¤í–‰ ì‹œ)
# ë˜ëŠ” ìˆ˜ë™ í•´ê²°
kill -9 $(lsof -i :3000 -t)
```

---

## ğŸ“Š ëª¨ë‹ˆí„°ë§

### í”„ë¡œì„¸ìŠ¤ ìƒíƒœ í™•ì¸

```bash
# ì „ì²´ í”„ë¡œì„¸ìŠ¤ ë³´ê¸°
ps aux | grep -E "(postgres|node|next)"

# í¬íŠ¸ë³„ í”„ë¡œì„¸ìŠ¤ í™•ì¸
lsof -i :3000
lsof -i :5432
```

### ë¡œê·¸ ëª¨ë‹ˆí„°ë§

```bash
# Next.js ë¡œê·¸ - ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
tail -f ~/.katc1/nextjs.log

# PostgreSQL ë¡œê·¸ - ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
tail -f ~/.katc1/postgres.log

# ë§ˆì§€ë§‰ Nì¤„ë§Œ ë³´ê¸°
tail -50 ~/.katc1/nextjs.log

# íŠ¹ì • ì‹œê°„ëŒ€ì˜ ë¡œê·¸
tail -f ~/.katc1/nextjs.log | grep "2026-02-19"
```

---

## ğŸ†˜ ë¬¸ì œ í•´ê²°

### ì‹œë‚˜ë¦¬ì˜¤ 1: í¬íŠ¸ ì´ë¯¸ ì‚¬ìš© ì¤‘

```
Error: listen EADDRINUSE :::3000
```

**í•´ê²°:**
```bash
# ë°©ë²• 1: ìë™ í•´ê²°
./stop.sh
./start.sh

# ë°©ë²• 2: ìˆ˜ë™ í•´ê²°
kill -9 $(lsof -i :3000 -t)
./start.sh
```

### ì‹œë‚˜ë¦¬ì˜¤ 2: PostgreSQL ì—°ê²° ì‹¤íŒ¨

```
Error: connect ECONNREFUSED 127.0.0.1:5432
```

**í•´ê²°:**
```bash
# PostgreSQL ìƒíƒœ í™•ì¸
pg_isready -p 5432

# ìˆ˜ë™ ì‹œì‘ (í•„ìš”ì‹œ)
brew services start postgresql@15

# ë˜ëŠ” ì „ì²´ ì‹œìŠ¤í…œ ì¬ì‹œì‘
./stop.sh && sleep 2 && ./start.sh
```

### ì‹œë‚˜ë¦¬ì˜¤ 3: ìŠ¤í¬ë¦½íŠ¸ ê¶Œí•œ ì˜¤ë¥˜

```
Permission denied: ./start.sh
```

**í•´ê²°:**
```bash
chmod +x start.sh stop.sh
./start.sh
```

### ì‹œë‚˜ë¦¬ì˜¤ 4: Node.js ëª¨ë“ˆ ì˜¤ë¥˜

```
Error: Cannot find module '@tanstack/react-query'
```

**í•´ê²°:**
```bash
npm install
npm cache clean --force
npm install --force
```

---

## ğŸ“ ë¡œê·¸ íŒŒì¼ ìœ„ì¹˜

```
~/.katc1/
â”œâ”€â”€ postgres.log          # PostgreSQL ë¡œê·¸
â”œâ”€â”€ nextjs.log           # Next.js ë¡œê·¸
â””â”€â”€ postgres/            # PostgreSQL ë°ì´í„° ë””ë ‰í† ë¦¬
```

### ë¡œê·¸ íŒŒì¼ ì •ë¦¬

```bash
# ì˜¤ë˜ëœ ë¡œê·¸ ì œê±°
rm ~/.katc1/*.log

# ë˜ëŠ” ë¡œê·¸ í¬ê¸° ì œí•œ
truncate -s 0 ~/.katc1/nextjs.log
```

---

## ğŸ” ë³´ì•ˆ ì£¼ì˜ì‚¬í•­

### ê°œë°œ í™˜ê²½

```bash
# .env.local (ê°œë°œìš© - ì•ˆì „í•˜ì§€ ì•ŠìŒ)
JWT_SECRET=dev_secret_key
DB_PASSWORD=dev_password
```

### í”„ë¡œë•ì…˜ í™˜ê²½

```bash
# .env.local (í”„ë¡œë•ì…˜ìš© - ê°•ë ¥í•œ ê°’ ì‚¬ìš©)
JWT_SECRET=$(openssl rand -base64 32)
JWT_REFRESH_SECRET=$(openssl rand -base64 32)
DB_PASSWORD=$(openssl rand -base64 16)
```

---

## ğŸ’¡ ìœ ìš©í•œ íŒ

### ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰

```bash
# nohup ì‚¬ìš©
nohup ./start.sh > startup.log 2>&1 &

# tmux/screen ì‚¬ìš©
tmux new-session -d -s katc1 './start.sh'
```

### ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…/ë³µì›

```bash
# ë°±ì—…
pg_dump katc1_dev > backup_$(date +%Y%m%d_%H%M%S).sql

# ë³µì›
./stop.sh
psql katc1_dev < backup_20260219_120000.sql
./start.sh
```

### ì‹œìŠ¤í…œ ë¦¬ì†ŒìŠ¤ í™•ì¸

```bash
# macOS
top -l 1 | grep -E "Processes|PhysMem"

# Linux
free -h
top -bn1
```

---

## ğŸ“ ë¹ ë¥¸ ì°¸ì¡°

| ëª…ë ¹ì–´ | ì„¤ëª… |
|--------|------|
| `./start.sh` | ì „ì²´ ì‹œìŠ¤í…œ ì‹œì‘ |
| `./stop.sh` | ì „ì²´ ì‹œìŠ¤í…œ ì¤‘ì§€ |
| `lsof -i :3000` | í¬íŠ¸ 3000 í”„ë¡œì„¸ìŠ¤ í™•ì¸ |
| `tail -f ~/.katc1/nextjs.log` | Next.js ë¡œê·¸ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ |
| `psql -d katc1_dev` | ë°ì´í„°ë² ì´ìŠ¤ ì ‘ì† |
| `npm run build` | TypeScript ì»´íŒŒì¼ í™•ì¸ |

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2026-02-19

**ì°¸ê³ :** ë” ìì„¸í•œ ì„¤ì • ë°©ë²•ì€ `SETUP_GUIDE.md`ë¥¼ ì°¸ì¡°í•˜ì„¸ìš”.
